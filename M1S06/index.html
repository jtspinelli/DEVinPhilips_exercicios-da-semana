<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M1S06 - Exercícios</title>
    <link rel="stylesheet" href="../M1S03/styles/base.css">
    <link rel="stylesheet" href="../M1S03/styles/styles.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/atom-one-dark.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script src="./scripts/ex1.js" defer type="module"></script>
    <script src="./scripts/ex2.js" defer type="module"></script>
    <script src="./scripts/ex3.js" defer type="module"></script>
    <script src="./titles.js" defer></script>
    <script src="./run.js" defer></script>
    <script src="./showCode.js" defer type="module"></script>
</head>
<body>
    <header>
        <a href="../index.html"><button>voltar</button></a>
        <div>
            <h2>Módulo 1 - <span>Exercícios da Semana 06</span></h2> 
        </div>        
    </header>

    <main>

        <ul id="m1s06">
            <li id="ex1">
                <div class="exercise-title">Ex 1 - Sleep</div>
            
                <div class="description hidden">
                    <p>Crie uma função chamada <strong>sleep</strong>, que recebe como argumento um  valor qualquer.</p>

                    <p>Quando chamada, essa função precisa retornar, após 3 segundos (setTimeout), uma Promise resolvida com o valor que foi passado como argumento.</p>
                    
                    <p>Ex.:</p>

                    <pre>
                        <span class="linenumbers">
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                        </span>

                        <code>function sleep ( valor ) {<br>    return new Promise ( (res, rej) => {<br>        setTimeout( ... );<br>    })<br>}</code>                        
                    </pre>                   

                    <p>Chame esta função e confirme o funcionamento dela (lembre-se que o valor do tempo de espera é aproximado!)</p>

                    <hr>

                    <p>Utilize o campo abaixo para enviar dados para a função <strong>Sleep</strong>:</p>

                    <div class="input-container">
                        <input id="ex1-input" type="text">
                    </div>

                    <div class="exercise-buttons">
                        <button class="code-button">ver código</button>
                        <button class="run-button">Rodar exercício</button>
                    </div>
                </div>
            </li>

            <li id="ex2">
                <div class="exercise-title">Ex 2 - Timer</div>
            
                <div class="description hidden">
                    <p>Utilizando o <strong>setInterval</strong>, crie uma função que mostre o horário atual e atualize automaticamente a cada 2 segundos.</p>

                    <p>O horário deve ser mostrado no formato <strong>HH:MM:SS</strong>.</p>

                    <hr>

                    <p style="text-align: center;">HORA AGORA<span id="horario-obs"> (clique em rodar exercício para ver o horário no campo abaixo)</span>:</p>

                    <p class="horario">00:00:00</p>

                    <p id="reset" class="hidden" style="text-align: center; overflow: hidden;">O relógio desligará automaticamente após 5 minutos.</p>

                    <div class="exercise-buttons">
                        <button class="code-button">ver código</button>
                        <button class="run-button">Rodar exercício</button>
                    </div>
                </div>  
            </li>
            
            <li id="ex3">
                <div class="exercise-title">Ex 3 - Promise (all)</div>
            
                <div class="description hidden">
                    <p>
                        Para aprovação de um empréstimo, um banco usa as funções descritas abaixo:<br>
                        - Aprovação do cadastro pessoal<br>
                        - Aprovação do valor solicitado<br>
                        Ambas retornam uma promise para fazer o  processamento em segundo plano (no código, este processamento está simulado).
                    </p>

                    <p>Para o cliente instanciado no código abaixo, foram executadas ambas as funções e criadas variáveis para armazenar este retorno.</p>

                    <p>Usando o método '<strong>Promise.all()</strong>', recupere o resultado de ambas as promises e imprima 'APROVADO' ou 'REPROVADO', conforme os resultados das promises forem resolvidos ou rejeitados.</p>
                
                    <p>Por fim, imprima a frase 'Fim do Processamento', qualquer que seja o resultado (resolve ou reject) das promises ('finally').</p>

                    <pre>
                        <span class="linenumbers">
                            <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i>
                            <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i> <i></i>
                            <i></i> <i></i> <i></i>
                        </span>

                        <code>function aprovarDadosCadastrais( cliente ) {<br>    return new Promise( (resolve, reject) => {<br>        if (cliente.cpf === 11111111111)<br>            resolve(true);<br>      else<br>            reject(false);<br>  });<br>}<br><br>function aprovarValorSolicitado( cliente, valor ) {<br>    return new Promise( (resolve, reject) => {<br>       if (cliente.margem >= valor)<br>            resolve(true);<br>       else<br>            reject(false);<br>     });<br>}<br><br>const cliente = { cpf: 11111111111, nome: 'Calleri', margem: 1000.0 };<br>const aprovacaoCadastro = aprovarDadosCadastrais(cliente);</br>const aprovacaoValor = aprovarValorSolicitado(cliente, 300.0);<br><br>// continue com o tratamento dos resultados de ambas as promises...</code>
                    </pre> 

                    <div class="exercise-buttons">
                        <button class="code-button">ver código</button>
                        <button class="run-button">Rodar exercício</button>
                    </div>
                </div>
            </li>          
        </ul>

        <div class="code-container hidden-code">
            <div id="code-container-frame">
                <div class="header">
                    <h1 id="code-title">Código do exercício #n</h1>
                    <div id="code-close"> x </div>
                </div>
                
                <pre>
                    <code id="code"></code>
                </pre>
            </div>
        </div>


 
    </main>

</body>
</html>